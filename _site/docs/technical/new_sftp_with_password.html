<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>New District SFTP Setup with Password | studentinsights</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="New District SFTP Setup with Password" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Student Insights for Somerville, New Bedford and Bedford educators" />
<meta property="og:description" content="Student Insights for Somerville, New Bedford and Bedford educators" />
<link rel="canonical" href="http://localhost:4000/docs/technical/new_sftp_with_password.html" />
<meta property="og:url" content="http://localhost:4000/docs/technical/new_sftp_with_password.html" />
<meta property="og:site_name" content="studentinsights" />
<script type="application/ld+json">
{"description":"Student Insights for Somerville, New Bedford and Bedford educators","@type":"WebPage","headline":"New District SFTP Setup with Password","url":"http://localhost:4000/docs/technical/new_sftp_with_password.html","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=2760c14739b5959ce83dd773e348cba390b242a8">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">studentinsights</a></h1>
      

      <h1 id="new-district-sftp-setup-with-password">New District SFTP Setup with Password</h1>

<p>To set up an Insights instance, we need an SFTP server where data will sync nightly. The best option is to used private keys to secure the SFTP server, but some hosted Aspen/X2 instances are preconfigured to work with a username/password. We can work with that. Ideally password authentication is a temporary step and the site transitions over to public key auth before it reaches full deployment to a school or district.</p>

<h4 id="steps">Steps</h4>

<ol>
  <li>Log onto AWS using the secure, two-factor-protected SFTP account</li>
  <li>Create a new EC2 Ubuntu instance</li>
  <li>Log into the new EC2 instance using the private key provided by AWS</li>
  <li>Edit the config file</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo vi /etc/ssh/sshd_config

# vim:

PasswordAuthentication yes
</code></pre></div></div>

<ol>
  <li>Become the root user: <code class="highlighter-rouge">sudo -s</code></li>
  <li>Add a new district: <code class="highlighter-rouge">adduser [[new_district_name]]</code></li>
  <li>Set a secure passphrase with letters, numbers, and symbols</li>
  <li>The system will prompt you for info like Name, Office, and Phone Number, you can leave all that blank because it doesnâ€™t matter</li>
  <li>Restart the ssh service: <code class="highlighter-rouge">service ssh restart</code></li>
  <li>Call up the new district on the phone and tell them their passphrase, never share the passphrase in plaintext over email</li>
</ol>



      
      <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
        This site is open source. <a href="http://github.com/studentinsights/studentinsights/edit/gh-pages/docs/technical/new_sftp_with_password.md">Improve this page</a>.
      </div>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
